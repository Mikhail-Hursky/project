(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{323:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},353:function(e,t,a){},414:function(e,t,a){},431:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){},470:function(e,t,a){},471:function(e,t,a){},472:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(26),i=a.n(r),s=a(71),o=a(52),l=(a(320),a(321),a(322),a(490)),u=a(27),d=a(41),j=a(46),b=a(496),h=a(493),p=a(491),m=a(295),f="/project/collection",O="http://ddragon.leagueoflegends.com/cdn/img/champion/loading/",x="http://ddragon.leagueoflegends.com/cdn/11.20.1/img/spell/",g="http://ddragon.leagueoflegends.com/cdn/11.19.1/img/passive/",v="AUTH_TOKEN",w=(a(323),a(3)),C=["Q","W","E","R"],S=function(e){var t=e.spells,a=e.identifier,n=e.name,c=e.tittle,r=e.passive;return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(s.b,{to:"".concat(f,"/").concat(a),children:Object(w.jsxs)("div",{className:"card",style:{background:"url(".concat(O).concat(a,"_0.jpg) no-repeat")},children:[Object(w.jsxs)("div",{className:"card__name",children:[Object(w.jsx)("h2",{children:n}),Object(w.jsx)("h3",{children:c})]}),Object(w.jsxs)("div",{className:"card__ability",children:[Object(w.jsx)(p.a,{position:"bottom left",content:"P: ".concat(r.name),trigger:Object(w.jsx)(m.a,{className:"card__ability-img",circular:!0,src:"".concat(g).concat(r.image.full),alt:"passive"})}),t.map((function(e,t){return Object(w.jsx)(p.a,{position:"bottom ".concat("R"===C[t]?"right":"center"),content:"".concat(C[t],": ").concat(e.name),trigger:Object(w.jsx)(m.a,{className:"card__ability-img",circular:!0,src:"".concat(x).concat(e.image.full),alt:C[t]})},"".concat(C[t],": ").concat(e.name))}))]})]})})})},y=a(489),_=a(473),k=a(193),N=a.n(k),I=function(){return Object(w.jsx)("svg",{width:"30",height:"32",viewBox:"0 0 30 32",fill:"#C28F2C",children:Object(w.jsxs)("g",{children:[Object(w.jsx)("path",{d:"M1.80644 9.75049C0.655032 11.8373 0 14.2271 0 16.7683C0 19.3095 0.655032 21.7015 1.80644 23.7883V9.75049Z"}),Object(w.jsx)("path",{d:"M15 2.02222C13.7829 2.02222 12.602 2.16921 11.4688 2.43647V4.75718C12.5907 4.44093 13.7738 4.26721 15 4.26721C22.0218 4.26721 27.7153 9.84627 27.7153 16.7305C27.7153 19.8307 26.5571 22.6659 24.6464 24.8463L24.2838 26.118L23.4814 28.9331C27.4184 26.2761 30.0023 21.8195 30.0023 16.7705C30 8.62355 23.2843 2.02222 15 2.02222Z"}),Object(w.jsx)("path",{d:"M11.4688 24.4209H22.9737H23.2253C25.1723 22.4209 26.3713 19.7126 26.3713 16.7305C26.3713 10.5746 21.2806 5.58569 15 5.58569C13.767 5.58569 12.5816 5.78168 11.4688 6.1358V24.4209Z"}),Object(w.jsx)("path",{d:"M10.1088 0H1.55029L3.16634 3.29844V28.7038L1.55029 32H21.1922L22.9737 25.7572H10.1088V0Z"})]})})},F=(a(334),function(){return Object(w.jsx)(s.b,{to:f,children:Object(w.jsxs)("h1",{className:"logo",children:[Object(w.jsx)(I,{})," Champions"]})})}),z=(a(335),a(32)),R=a.n(z),B=a(59),L=a(53),E=a(280),q=a.n(E),P=a(294),A=a(69),T=Object(L.b)("champion/fetchChampion",function(){var e=Object(B.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:if(404!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V=Object(L.c)({name:"champion",initialState:{id:"",champion:null},reducers:{addId:function(e,t){e.champion=null,e.id=t.payload}},extraReducers:function(e){e.addCase(T.fulfilled,(function(e,t){e.champion=t.payload}))}}),H=(V.actions.addId,V.reducer),M=Object(L.b)("card/fetchCards",Object(B.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),U=Object(L.c)({name:"card",initialState:{cards:[],filter:""},reducers:{addFilter:function(e,t){e.filter=t.payload}},extraReducers:function(e){e.addCase(M.fulfilled,(function(e,t){e.cards=t.payload}))}}),Z=(U.actions.addFilter,U.reducer),J={token:localStorage.getItem(v),email:"",name:""},K=Object(L.c)({name:"user",initialState:J,reducers:{addToken:function(e,t){e.token=t.payload},addUser:function(e,t){e.email=t.payload.email,e.name=t.payload.name},logout:function(e){e.token=null,e.email="",e.name="",localStorage.setItem(v,"")}}}),Q=K.actions,W=Q.addToken,D=Q.addUser,G=Q.logout,X=K.reducer,Y=Object(A.b)({champion:H,user:X,card:Z}),$=Object(L.a)({reducer:Y}),ee={"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem(v))},te=q.a.create({baseURL:"https://league-of-champ.herokuapp.com/",headers:ee}),ae=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("card",{headers:Object(d.a)(Object(d.a)({},ee),{},{Authorization:"Bearer ".concat(localStorage.getItem(v))})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("card/full?id=".concat(t),{headers:Object(d.a)(Object(d.a)({},ee),{},{Authorization:"Bearer ".concat(localStorage.getItem(v))})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("user",{headers:Object(d.a)(Object(d.a)({},ee),{},{Authorization:"Bearer ".concat(localStorage.getItem(v))})}).then((function(e){console.log(e),$.dispatch(D(e.data))})).catch((function(e){$.dispatch(G()),P.b.error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("auth/registration",t).then((function(e){P.b.success(e.data.message)})).catch((function(e){return P.b.error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("auth/login",t).then((function(e){console.log(e.data.token),localStorage.setItem(v,e.data.token),$.dispatch(W(e.data.token))})).then((function(){return ce()})).catch((function(e){P.b.error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=Object(L.b)("card/fetchCards",Object(B.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),oe=Object(L.c)({name:"card",initialState:{cards:[],filter:""},reducers:{addFilter:function(e,t){e.filter=t.payload}},extraReducers:function(e){e.addCase(se.fulfilled,(function(e,t){e.cards=t.payload}))}}),le=oe.actions.addFilter;oe.reducer;var ue=function(){var e=Object(o.b)(),t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],i=Object(o.c)((function(e){return e.user.name})),s=Object(n.useCallback)(N()((function(t){e(le(t.target.value)),r(!1)}),400),[]);return Object(w.jsxs)("header",{className:"searchBar",children:[Object(w.jsx)(F,{}),Object(w.jsx)(y.a,{loading:c,onChange:function(e){r(!0),s(e)},className:"searchBar__input",placeholder:"Search champion..."}),Object(w.jsxs)("div",{className:"searchBar__logout",children:[i,Object(w.jsx)(_.a,{onClick:function(){e(G())},color:"red",children:"Logout"})]})]})};a(353);var de=function(){var e=Object(o.b)(),t=Object(n.useRef)(null),a=Object(o.c)((function(e){return e.card})),c=a.cards,r=a.filter,i=Object(n.useState)([]),s=Object(j.a)(i,2),l=s[0],u=s[1],p=Object(n.useState)({page:1,pageSize:24}),m=Object(j.a)(p,2),f=m[0],O=m[1];return console.log("CollectionPage"),Object(n.useEffect)((function(){ce().then((function(){return e(se())}))}),[]),Object(n.useEffect)((function(){u(c)}),[c]),Object(n.useEffect)((function(){if(r){var e=new RegExp(r,"i");u(c.filter((function(t){return t.name.match(e)}))),O((function(e){return Object(d.a)(Object(d.a)({},e),{},{page:1})}))}else u(c)}),[r]),Object(w.jsxs)("div",{className:"containerCollection",children:[Object(w.jsx)(ue,{}),c.length?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{ref:t,className:"cardsBlock",children:l.slice((f.page-1)*f.pageSize,f.page*f.pageSize).map((function(e){return Object(w.jsx)(S,{spells:e.spells,identifier:e.id,name:e.name,tittle:e.title,passive:e.passive},e.id)}))}),Object(w.jsx)("div",{className:"pagination",children:Object(w.jsx)(h.a,{current:f.page,onChange:function(e){var a;null===(a=t.current)||void 0===a||a.scrollTo({left:0,top:0,behavior:"smooth"}),O((function(t){return Object(d.a)(Object(d.a)({},t),{},{page:e})}))},responsive:!0,defaultCurrent:1,onShowSizeChange:function(e,t){O({page:e,pageSize:t})},defaultPageSize:f.pageSize,pageSizeOptions:["24","48","60","90"],total:l.length,showSizeChanger:!0})})]}):Object(w.jsx)(b.a,{style:{flex:1},size:"large"})]})},je=(a(414),function(e){var t=e.name,a=e.lore,n=e.passive,c=e.spells,r=e.identifier,i=e.tittle;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"description",children:[Object(w.jsxs)("div",{className:"description__image",children:[Object(w.jsxs)("h2",{children:[t,Object(w.jsx)("br",{}),i]}),Object(w.jsx)(m.a,{src:"".concat(O).concat(r,"_0.jpg"),alt:""})]}),Object(w.jsxs)("div",{className:"description__ability",children:[Object(w.jsxs)("div",{className:"description__ability--information",children:[Object(w.jsx)(m.a,{circular:!0,src:"".concat(g).concat(n.image.full),alt:"passive"}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("h3",{children:n.name}),Object(w.jsx)("p",{children:n.description})]})]}),c.map((function(e){return Object(w.jsxs)("div",{className:"description__ability--information",children:[Object(w.jsx)(m.a,{circular:!0,src:"".concat(x).concat(e.image.full),alt:e.name},e.id),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("h3",{children:e.name}),e.cooldownBurn&&Object(w.jsx)("p",{children:e.cooldownBurn+" sec"}),Object(w.jsx)("p",{children:e.description})]})]},e.id)}))]})]}),Object(w.jsxs)("div",{className:"lore",children:[Object(w.jsx)("h2",{children:"Lore"}),Object(w.jsx)("p",{children:a})]})]})}),be=a(286),he=a.n(be),pe=(a(429),a(430),a(494)),me=(a(431),{lazyLoad:"ondemand",dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,className:"slider",initialSlide:2,responsive:[{breakpoint:768,settings:{arrows:!1}}]}),fe=function(e){var t=e.skins,a=e.name;return Object(w.jsxs)("div",{className:"block__slider",children:[Object(w.jsx)("h2",{className:"block__slider--tittle",children:"Skins"}),Object(w.jsx)(he.a,Object(d.a)(Object(d.a)({},me),{},{children:t.map((function(e){return Object(w.jsxs)("div",{className:"slider__item",children:[Object(w.jsx)(pe.a,{width:"100%",src:"".concat("http://ddragon.leagueoflegends.com/cdn/img/champion/splash/").concat(a,"_").concat(e.num,".jpg"),placeholder:Object(w.jsx)(pe.a,{preview:!1,src:"https://thumbs.gfycat.com/AdorableMajesticJellyfish-size_restricted.gif",width:"100%"})}),Object(w.jsx)("h3",{children:"default"===e.name?a:e.name})]},e.name)}))}))]})};a(432);var Oe=function(){var e=Object(u.f)(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.champion.champion}));return console.log("ChampionPage"),Object(n.useEffect)((function(){t(T(e.location.pathname.split("/")[3]))}),[]),Object(w.jsxs)("div",{className:"championPage",children:[Object(w.jsx)("header",{className:"championPage__header",children:Object(w.jsx)(F,{})}),a?Object(w.jsxs)("div",{className:"championPage__info",children:[Object(w.jsx)(je,{tittle:a.title,identifier:a.id,name:a.name,passive:a.passive,spells:a.spells,lore:a.lore}),Object(w.jsx)(fe,{skins:a.skins,name:a.id})]}):Object(w.jsx)(b.a,{style:{flex:1},size:"large"})]})},xe=(a(433),function(){return Object(w.jsx)("div",{className:"filter",children:Object(w.jsx)(u.c,{children:Object(w.jsxs)(l.a,{children:[Object(w.jsx)(u.a,{path:"/project/collection/:nameId",children:Object(w.jsx)(Oe,{})}),Object(w.jsx)(u.a,{path:f,exact:!0,children:Object(w.jsx)(de,{})})]})})})}),ge=a(492),ve=a(208),we=a(78),Ce=function(e){var t=e.setIsLoader,a=Object(ve.a)({initialValues:{name:"",email:"",password:""},validationSchema:we.a().shape({name:we.b().required("Required to fill"),email:we.b().matches(/@/,"Incorrect email").required("Required to fill"),password:we.b().min(6,"6 to 16 characters").required("Required to fill")}),onSubmit:function(e){t(!0),re(e).then((function(){return t(!1)}))}});return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(ge.a,{onSubmit:a.handleSubmit,children:[Object(w.jsx)(ge.a.Field,{children:Object(w.jsx)(ge.a.Input,{name:"name",label:"Enter your name",type:"text",value:a.values.name,onChange:a.handleChange,error:a.errors.name,onBlur:function(){return a.validateField("name")}})}),Object(w.jsx)(ge.a.Field,{children:Object(w.jsx)(ge.a.Input,{name:"email",label:"Enter your email",type:"email",value:a.values.email,onChange:a.handleChange,error:a.errors.email,onBlur:function(){return a.validateField("email")}})}),Object(w.jsx)(ge.a.Field,{children:Object(w.jsx)(ge.a.Input,{name:"password",label:"Enter your Password",type:"password",value:a.values.password,onChange:a.handleChange,error:a.errors.password,onBlur:function(){return a.validateField("password")}})}),Object(w.jsx)(_.a,{primary:!0,type:"submit",children:"Registration"})]})})},Se=function(e){var t=e.setIsLoader,a=Object(ve.a)({initialValues:{email:"",password:""},validationSchema:we.a().shape({email:we.b().matches(/@/,"Incorrect email").required("Required to fill"),password:we.b().min(6,"6 to 16 characters").required("Required to fill")}),onSubmit:function(e){t(!0),ie(e).then((function(){t(!1)}))}});return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(ge.a,{onSubmit:a.handleSubmit,children:[Object(w.jsx)(ge.a.Field,{children:Object(w.jsx)(ge.a.Input,{name:"email",onChange:a.handleChange,value:a.values.email,label:"Enter email",type:"email",error:a.errors.email})}),Object(w.jsx)(ge.a.Field,{children:Object(w.jsx)(ge.a.Input,{name:"password",onChange:a.handleChange,value:a.values.password,label:"Enter Password",type:"password",error:a.errors.password})}),Object(w.jsx)(_.a,{primary:!0,type:"submit",children:"Login"})]})})},ye=(a(470),function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(j.a)(r,2),s=i[0],o=i[1];return Object(w.jsxs)(l.a,{textAlign:"center",children:[s&&Object(w.jsx)("div",{className:"loader",children:Object(w.jsx)(b.a,{size:"large"})}),Object(w.jsx)(F,{}),Object(w.jsxs)("div",{className:"authForm",children:[Object(w.jsx)("h2",{children:a?"Registration":"Login"}),a?Object(w.jsx)(Ce,{setIsLoader:o}):Object(w.jsx)(Se,{setIsLoader:o}),Object(w.jsx)(_.a,{className:"btnSwitch",color:"orange",onClick:function(){return c((function(e){return!e}))},children:a?"Sign up":"Registration new account"})]})]})}),_e=(a(471),function(){return Object(w.jsx)("div",{className:"AuthPage",children:Object(w.jsx)(ye,{})})}),ke=function(e){var t=e.children,a=Object(o.c)((function(e){return e.user.token})),c=Object(u.f)();return Object(n.useEffect)((function(){a&&c.push("/project/"===c.location.pathname?f:c.location.pathname)}),[a]),Object(w.jsx)(w.Fragment,{children:a?t:Object(w.jsx)(_e,{})})};i.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(o.a,{store:$,children:Object(w.jsx)(s.a,{children:Object(w.jsx)(ke,{children:Object(w.jsx)(xe,{})})})})}),document.getElementById("root"))}},[[472,1,2]]]);
//# sourceMappingURL=main.b23b5ea0.chunk.js.map