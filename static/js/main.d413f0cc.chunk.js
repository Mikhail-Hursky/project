(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{317:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},347:function(e,t,n){},408:function(e,t,n){},425:function(e,t,n){},426:function(e,t,n){},427:function(e,t,n){},464:function(e,t,n){},465:function(e,t,n){},466:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(26),i=n.n(r),s=n(67),o=n(52),l=(n(314),n(315),n(316),n(484)),u=n(28),d=n(98),j=n(45),b=n(489),h=n(487),p=n(485),m=n(290),f="/collection",O="http://ddragon.leagueoflegends.com/cdn/img/champion/loading/",x="http://ddragon.leagueoflegends.com/cdn/11.20.1/img/spell/",g="http://ddragon.leagueoflegends.com/cdn/11.19.1/img/passive/",v="AUTH_TOKEN",w=(n(317),n(3)),C=["Q","W","E","R"],y=function(e){var t=e.spells,n=e.identifier,a=e.name,c=e.tittle,r=e.passive;return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(s.b,{to:"".concat(f,"/").concat(n),children:Object(w.jsxs)("div",{className:"card",style:{background:"url(".concat(O).concat(n,"_0.jpg) no-repeat")},children:[Object(w.jsxs)("div",{className:"card__name",children:[Object(w.jsx)("h2",{children:a}),Object(w.jsx)("h3",{children:c})]}),Object(w.jsxs)("div",{className:"card__ability",children:[Object(w.jsx)(p.a,{position:"bottom left",content:"P: ".concat(r.name),trigger:Object(w.jsx)(m.a,{className:"card__ability-img",circular:!0,src:"".concat(g).concat(r.image.full),alt:"passive"})}),t.map((function(e,t){return Object(w.jsx)(p.a,{position:"bottom ".concat("R"===C[t]?"right":"center"),content:"".concat(C[t],": ").concat(e.name),trigger:Object(w.jsx)(m.a,{className:"card__ability-img",circular:!0,src:"".concat(x).concat(e.image.full),alt:C[t]})},"".concat(C[t],": ").concat(e.name))}))]})]})})})},S=n(483),_=n(467),k=n(189),N=n.n(k),F=function(){return Object(w.jsx)("svg",{width:"30",height:"32",viewBox:"0 0 30 32",fill:"#C28F2C",children:Object(w.jsxs)("g",{children:[Object(w.jsx)("path",{d:"M1.80644 9.75049C0.655032 11.8373 0 14.2271 0 16.7683C0 19.3095 0.655032 21.7015 1.80644 23.7883V9.75049Z"}),Object(w.jsx)("path",{d:"M15 2.02222C13.7829 2.02222 12.602 2.16921 11.4688 2.43647V4.75718C12.5907 4.44093 13.7738 4.26721 15 4.26721C22.0218 4.26721 27.7153 9.84627 27.7153 16.7305C27.7153 19.8307 26.5571 22.6659 24.6464 24.8463L24.2838 26.118L23.4814 28.9331C27.4184 26.2761 30.0023 21.8195 30.0023 16.7705C30 8.62355 23.2843 2.02222 15 2.02222Z"}),Object(w.jsx)("path",{d:"M11.4688 24.4209H22.9737H23.2253C25.1723 22.4209 26.3713 19.7126 26.3713 16.7305C26.3713 10.5746 21.2806 5.58569 15 5.58569C13.767 5.58569 12.5816 5.78168 11.4688 6.1358V24.4209Z"}),Object(w.jsx)("path",{d:"M10.1088 0H1.55029L3.16634 3.29844V28.7038L1.55029 32H21.1922L22.9737 25.7572H10.1088V0Z"})]})})},I=(n(328),function(){return Object(w.jsx)(s.b,{to:f,children:Object(w.jsxs)("h1",{className:"logo",children:[Object(w.jsx)(F,{})," Champions"]})})}),R=(n(329),n(27)),L=n.n(R),z=n(46),E=n(53),B=n(274),q=n.n(B),P=n(289),T=n(65),V=Object(E.b)("champion/fetchChampion",function(){var e=Object(z.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t);case 2:if(404!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H=Object(E.c)({name:"champion",initialState:{id:"",champion:null},reducers:{addId:function(e,t){e.champion=null,e.id=t.payload}},extraReducers:function(e){e.addCase(V.fulfilled,(function(e,t){e.champion=t.payload}))}}),M=(H.actions.addId,H.reducer),A=Object(E.b)("card/fetchCards",Object(z.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),U=Object(E.c)({name:"card",initialState:{cards:[],filter:""},reducers:{addFilter:function(e,t){e.filter=t.payload}},extraReducers:function(e){e.addCase(A.fulfilled,(function(e,t){e.cards=t.payload}))}}),Z=(U.actions.addFilter,U.reducer),J={token:localStorage.getItem(v),email:"",name:""},K=Object(E.c)({name:"user",initialState:J,reducers:{addToken:function(e,t){e.token=t.payload},addUser:function(e,t){e.email=t.payload.email,e.name=t.payload.name},logout:function(e){e.token=null,e.email="",e.name="",localStorage.setItem(v,"")}}}),Q=K.actions,W=Q.addToken,D=Q.addUser,G=Q.logout,X=K.reducer,Y=Object(T.b)({champion:M,user:X,card:Z}),$=Object(E.a)({reducer:Y}),ee={"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem(v))},te=q.a.create({baseURL:"https://league-of-champ.herokuapp.com/",headers:ee}),ne=function(){var e=Object(z.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("card");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(z.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("card/full?id=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(z.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("user").then((function(e){console.log(e),$.dispatch(D(e.data))})).catch((function(e){return P.b.error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(z.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("auth/registration",t).then((function(e){P.b.success(e.data.message)})).catch((function(e){return P.b.error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(z.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.post("auth/login",t).then((function(e){localStorage.setItem(v,e.data.token),$.dispatch(W(e.data.token))})).then((function(){return ce()})).catch((function(e){P.b.error(e.message)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=Object(E.b)("card/fetchCards",Object(z.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),oe=Object(E.c)({name:"card",initialState:{cards:[],filter:""},reducers:{addFilter:function(e,t){e.filter=t.payload}},extraReducers:function(e){e.addCase(se.fulfilled,(function(e,t){e.cards=t.payload}))}}),le=oe.actions.addFilter;oe.reducer;var ue=function(){var e=Object(o.b)(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(o.c)((function(e){return e.user.name})),s=Object(a.useCallback)(N()((function(t){e(le(t.target.value)),r(!1)}),400),[]);return Object(w.jsxs)("header",{className:"searchBar",children:[Object(w.jsx)(I,{}),Object(w.jsx)(S.a,{loading:c,onChange:function(e){r(!0),s(e)},className:"searchBar__input",placeholder:"Search champion..."}),Object(w.jsxs)("div",{className:"searchBar__logout",children:[i,Object(w.jsx)(_.a,{onClick:function(){e(G())},color:"red",children:"Logout"})]})]})};n(347);var de=function(){var e=Object(o.b)(),t=Object(a.useRef)(null),n=Object(o.c)((function(e){return e.card})),c=n.cards,r=n.filter,i=Object(a.useState)([]),s=Object(j.a)(i,2),l=s[0],u=s[1],p=Object(a.useState)({page:1,pageSize:24}),m=Object(j.a)(p,2),f=m[0],O=m[1];return Object(a.useEffect)((function(){ce().then((function(){return e(se())}))}),[]),Object(a.useEffect)((function(){u(c)}),[c]),Object(a.useEffect)((function(){if(r){var e=new RegExp(r,"i");u(c.filter((function(t){return t.name.match(e)}))),O((function(e){return Object(d.a)(Object(d.a)({},e),{},{page:1})}))}else u(c)}),[r]),Object(w.jsxs)("div",{className:"containerCollection",children:[Object(w.jsx)(ue,{}),c.length?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{ref:t,className:"cardsBlock",children:l.slice((f.page-1)*f.pageSize,f.page*f.pageSize).map((function(e){return Object(w.jsx)(y,{spells:e.spells,identifier:e.id,name:e.name,tittle:e.title,passive:e.passive},e.id)}))}),Object(w.jsx)("div",{className:"pagination",children:Object(w.jsx)(h.a,{current:f.page,onChange:function(e){var n;null===(n=t.current)||void 0===n||n.scrollTo({left:0,top:0,behavior:"smooth"}),O((function(t){return Object(d.a)(Object(d.a)({},t),{},{page:e})}))},responsive:!0,defaultCurrent:1,onShowSizeChange:function(e,t){O({page:e,pageSize:t})},defaultPageSize:f.pageSize,pageSizeOptions:["24","48","60","90"],total:l.length,showSizeChanger:!0})})]}):Object(w.jsx)(b.a,{style:{flex:1},size:"large"})]})},je=(n(408),function(e){var t=e.name,n=e.lore,a=e.passive,c=e.spells,r=e.identifier,i=e.tittle;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"description",children:[Object(w.jsxs)("div",{className:"description__image",children:[Object(w.jsxs)("h2",{children:[t,Object(w.jsx)("br",{}),i]}),Object(w.jsx)(m.a,{src:"".concat(O).concat(r,"_0.jpg"),alt:""})]}),Object(w.jsxs)("div",{className:"description__ability",children:[Object(w.jsxs)("div",{className:"description__ability--information",children:[Object(w.jsx)(m.a,{circular:!0,src:"".concat(g).concat(a.image.full),alt:"passive"}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("h3",{children:a.name}),Object(w.jsx)("p",{children:a.description})]})]}),c.map((function(e){return Object(w.jsxs)("div",{className:"description__ability--information",children:[Object(w.jsx)(m.a,{circular:!0,src:"".concat(x).concat(e.image.full),alt:e.name},e.id),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("h3",{children:e.name}),e.cooldownBurn&&Object(w.jsx)("p",{children:e.cooldownBurn+" sec"}),Object(w.jsx)("p",{children:e.description})]})]},e.id)}))]})]}),Object(w.jsxs)("div",{className:"lore",children:[Object(w.jsx)("h2",{children:"Lore"}),Object(w.jsx)("p",{children:n})]})]})}),be=n(281),he=n.n(be),pe=(n(423),n(424),n(425),{lazyLoad:"ondemand",dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,className:"slider",initialSlide:2,responsive:[{breakpoint:768,settings:{arrows:!1}}]}),me=function(e){var t=e.skins,n=e.name;return Object(w.jsxs)("div",{className:"block__slider",children:[Object(w.jsx)("h2",{className:"block__slider--tittle",children:"Skins"}),Object(w.jsx)(he.a,Object(d.a)(Object(d.a)({},pe),{},{children:t.map((function(e){return Object(w.jsxs)("div",{className:"slider__item",children:[Object(w.jsx)("img",{src:"".concat("http://ddragon.leagueoflegends.com/cdn/img/champion/splash/").concat(n,"_").concat(e.num,".jpg"),alt:""}),Object(w.jsx)("h3",{children:"default"===e.name?n:e.name})]},e.name)}))}))]})};n(426);var fe=function(){var e=Object(u.f)(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.champion.champion}));return Object(a.useEffect)(Object(z.a)(L.a.mark((function n(){return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(V(e.location.pathname.split("/")[2]));case 1:case"end":return n.stop()}}),n)}))),[]),Object(w.jsxs)("div",{className:"championPage",children:[Object(w.jsx)("header",{className:"championPage__header",children:Object(w.jsx)(I,{})}),n?Object(w.jsxs)("div",{className:"championPage__info",children:[Object(w.jsx)(je,{tittle:n.title,identifier:n.id,name:n.name,passive:n.passive,spells:n.spells,lore:n.lore}),Object(w.jsx)(me,{skins:n.skins,name:n.name})]}):Object(w.jsx)(b.a,{style:{flex:1},size:"large"})]})},Oe=(n(427),function(){return Object(w.jsx)("div",{className:"filter",children:Object(w.jsx)(u.c,{children:Object(w.jsxs)(l.a,{children:[Object(w.jsx)(u.a,{path:"/collection/:nameId",children:Object(w.jsx)(fe,{})}),Object(w.jsx)(u.a,{path:f,exact:!0,children:Object(w.jsx)(de,{})})]})})})}),xe=n(486),ge=n(201),ve=n(74),we=function(e){var t=e.setIsLoader,n=Object(ge.a)({initialValues:{name:"",email:"",password:""},validationSchema:ve.a().shape({name:ve.b().required("Required to fill"),email:ve.b().matches(/@/,"Incorrect email").required("Required to fill"),password:ve.b().min(6,"6 to 16 characters").required("Required to fill")}),onSubmit:function(e){t(!0),re(e).then((function(){return t(!1)}))}});return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(xe.a,{onSubmit:n.handleSubmit,children:[Object(w.jsx)(xe.a.Field,{children:Object(w.jsx)(xe.a.Input,{name:"name",label:"Enter your name",type:"text",value:n.values.name,onChange:n.handleChange,error:n.errors.name,onBlur:function(){return n.validateField("name")}})}),Object(w.jsx)(xe.a.Field,{children:Object(w.jsx)(xe.a.Input,{name:"email",label:"Enter your email",type:"email",value:n.values.email,onChange:n.handleChange,error:n.errors.email,onBlur:function(){return n.validateField("email")}})}),Object(w.jsx)(xe.a.Field,{children:Object(w.jsx)(xe.a.Input,{name:"password",label:"Enter your Password",type:"password",value:n.values.password,onChange:n.handleChange,error:n.errors.password,onBlur:function(){return n.validateField("password")}})}),Object(w.jsx)(_.a,{primary:!0,type:"submit",children:"Registration"})]})})},Ce=function(e){var t=e.setIsLoader,n=Object(ge.a)({initialValues:{email:"",password:""},validationSchema:ve.a().shape({email:ve.b().matches(/@/,"Incorrect email").required("Required to fill"),password:ve.b().min(6,"6 to 16 characters").required("Required to fill")}),onSubmit:function(e){t(!0),ie(e).then((function(){t(!1)}))}});return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(xe.a,{onSubmit:n.handleSubmit,children:[Object(w.jsx)(xe.a.Field,{children:Object(w.jsx)(xe.a.Input,{name:"email",onChange:n.handleChange,value:n.values.email,label:"Enter email",type:"email",error:n.errors.email})}),Object(w.jsx)(xe.a.Field,{children:Object(w.jsx)(xe.a.Input,{name:"password",onChange:n.handleChange,value:n.values.password,label:"Enter Password",type:"password",error:n.errors.password})}),Object(w.jsx)(_.a,{primary:!0,type:"submit",children:"Login"})]})})},ye=(n(464),function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),s=i[0],o=i[1];return Object(w.jsxs)(l.a,{textAlign:"center",children:[s&&Object(w.jsx)("div",{className:"loader",children:Object(w.jsx)(b.a,{size:"large"})}),Object(w.jsx)(I,{}),Object(w.jsxs)("div",{className:"authForm",children:[Object(w.jsx)("h2",{children:n?"Registration":"Login"}),n?Object(w.jsx)(we,{setIsLoader:o}):Object(w.jsx)(Ce,{setIsLoader:o}),Object(w.jsx)(_.a,{className:"btnSwitch",color:"orange",onClick:function(){return c((function(e){return!e}))},children:n?"Sign up":"Registration new account"})]})]})}),Se=(n(465),function(){return Object(w.jsx)("div",{className:"AuthPage",children:Object(w.jsx)(ye,{})})}),_e=function(e){var t=e.children,n=Object(o.c)((function(e){return e.user.token})),c=Object(u.f)();return Object(a.useEffect)((function(){n&&c.push("/"===c.location.pathname?f:c.location.pathname)}),[n]),Object(w.jsx)(w.Fragment,{children:n?t:Object(w.jsx)(Se,{})})};i.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(o.a,{store:$,children:Object(w.jsx)(s.a,{children:Object(w.jsx)(_e,{children:Object(w.jsx)(Oe,{})})})})}),document.getElementById("root"))}},[[466,1,2]]]);
//# sourceMappingURL=main.d413f0cc.chunk.js.map